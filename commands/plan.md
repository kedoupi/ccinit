## Plan

### 核心作用
在开始编码前生成结构化实施计划：明确需求、拆分任务、设计方案，并在执行前获得用户确认，确保开发节奏和质量受控。

### 适用场景
- 新功能或大型改造需要完整实施路线
- 系统设计、数据库设计、接口规划等需要多阶段评估
- 想要提前发现风险、列出验收标准、安排测试任务

### 快速用法
```bash
/plan
"为 [Topic] 制定实施计划"
```

> 示例：
> - 创建用户认证功能的开发计划
> - 拆解单体迁移到微服务的路线
> - 制定遗留代码重构计划

### 推荐提示语
- "Create an implementation plan for ..."
- "Help me design a plan covering architecture / data / testing for ..."
- "Break down the steps, risks, and checks before coding ..."

### Claude 协作流程
1. 描述目标或问题，触发 Plan Mode。
2. Claude 会自动梳理需求、风险、设计要点，并以计划形式呈现。
3. 通过 `exit_plan_mode` 展示计划供你确认；未确认前不会进入编码阶段。
4. 你可以要求调整、补充或重新排序；确认后再执行后续任务。

### 输出结构
```
实施计划
━━━━━━━━━━━━━━━━━━━━━━
目标概述
- 背景 / 业务目标
- 完成标准（Acceptance Criteria）

阶段拆分
1. 阶段名称（范围、负责人、时间）
2. 关键任务列表（含依赖与检查点）
3. 验证与测试策略

风险与对策
- 风险描述 → 触发条件 → 缓解方案

所需资源 / 沟通节奏
- 评审节点、文档、工具
```

### 使用建议
- 复杂项目使用完整模板；小修小补可跳过，避免额外开销。
- 如果 Claude 未覆盖某些约束（预算、合规等），可以补充信息让计划更贴合实际。
- 计划确认后才进入执行；如需调整请明确说明，避免计划与执行脱节。

### 注意事项
- 不依赖 `exit_plan_mode` 的返回数据，最终答案以 Claude 展示的计划为准。
- TodoWrite 任务跟踪在你确认计划后才会启动。
- 若计划存在多个实现选项，可要求 Claude 给出对比，再确定最终路线。
