## Update Doc

### 核心作用
为缺失或不规范的代码文档注释补全内容，遵循各语言官方风格（PEP 257、JSDoc、GoDoc、Rust doc comment、DartDoc 等），保持文档一致性。

### 快速用法
```bash
"请为 src/components/ 下缺少注释的函数补充 JSDoc"

/update-doc --lang python
"更新 Python 模块文档，符合 PEP 257"

/update-doc --marker false
"改写已有注释，但不要附加 Claude 标记"
```

### 支持语言
- Python (`.py`)：PEP 257 / Google Docstring
- JavaScript/TypeScript (`.js/.ts/.tsx`)：JSDoc
- Dart：DartDoc
- Go：GoDoc
- Rust：Rust doc comment

### 执行策略
1. **优先级排序**：
   - 未编写注释的公开类/函数 → 🔴
   - 注释存在但过短、不合规范 → 🟡
   - 注释缺少生成标记或需统一格式 → 🟢
2. **内容生成**：
   - 概述（30~60 字符）：描述作用与上下文。
   - 详细说明（50~200 字符）：包含使用场景、边界条件、注意事项。
   - 参数/返回值：按语言规范列出。
   - 需要保留的已有信息（链接、TODO、示例等）不会丢失。
3. **输出**：默认附加 `Generated by Claude 🤖` 标记，可通过 `--marker false` 关闭。

### 示例
```python
# Python (PEP 257)
def calculate_total(items: list[Item]) -> float:
    """计算商品列表的含税金额。

    将每项价格与数量相乘后求和，遇到空列表返回 0.0。

    Args:
        items: 商品列表

    Returns:
        含税总金额

    Generated by Claude 🤖
    """
```

```ts
/**
 * 渲染用户资料卡片。
 *
 * 依次展示头像、昵称与状态，点击跳转到详情页。
 *
 * @param props 组件参数
 * @param props.userId 用户 ID
 * @param props.showStatus 是否显示状态信息
 * @returns JSX.Element
 *
 * @generated by Claude 🤖
 */
```

### 使用建议
- 在命令前使用 `rg` 或 `find` 限定范围，避免一次性修改过多文件。
- 对测试文件或生成代码，可通过 `--lang`/筛选路径排除。
- 执行后建议运行 Lint/格式化，确保注释符合项目校验。

### 禁止改动
- 不修改函数签名、逻辑或类型。
- 不推测事实以外的信息；如果不确定，应提示用户补充。
- 不删除现有重要注释（TODO、NOTE、参考链接）。
