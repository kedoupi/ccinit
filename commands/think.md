## 深度思考

执行结构化的深度思考过程，解决复杂任务和重要决策。支持多种思维模式。

### 用法

```bash
# 请求深度思考分析
"使用深度思考分析 [任务]"

# 指定思维模式
/think --mode ultra
/think --mode sequential
/think --mode hybrid
```

### Options

- `--mode <type>` : 指定思维模式 (ultra, sequential, hybrid)
- `--perspective <view>` : 分析视角 (technical, business, user, all)
- `--depth <level>` : 思考深度 (basic, detailed, comprehensive)

### 思维模式

#### Ultra 模式 (结构化深度思考)

适用于需要全面分析的复杂决策：

**特点**:
- 系统性分解问题
- MECE 分析框架
- 多角度审视
- 基于证据的结论

**适用场景**:
- 架构设计选择
- 技术栈决策
- 业务功能优先级
- 系统重构策略

#### Sequential 模式 (迭代式思考)

适用于需要逐步探索的问题：

**特点**:
- 动态调整思路
- 假设验证迭代
- 多路径探索
- 灵活的过程修正

**适用场景**:
- 问题调试分析
- 算法设计
- 性能优化策略
- 复杂实现方案

#### Hybrid 模式 (混合思考)

结合两种模式的优点：

**特点**:
- 结构化框架 + 灵活调整
- 深度分析 + 迭代验证
- 全面覆盖 + 重点突破

### 基础示例

#### Ultra 模式示例

```bash
# 架构设计分析
/think --mode ultra
"分析微服务 vs 单体架构的选择"

# 技术选型分析
/think --mode ultra --perspective all
"分析 Rust vs TypeScript 在此项目中的适用性"

# 业务决策分析
/think --mode ultra --depth comprehensive
"制定新功能开发优先级，考虑用户价值、开发成本和技术风险"
```

#### Sequential 模式示例

```bash
# 性能问题调试
/think --mode sequential
"分析应用性能差的原因和改进方法"

# 算法设计
/think --mode sequential --depth detailed
"设计高效的缓存策略"

# 实现策略
/think --mode sequential
"制定认证系统实现策略，考虑 OAuth2、JWT 和会话管理"
```

### 思考框架

#### Ultra 模式框架

1. **问题分解** - 将任务拆解为组成部分
2. **MECE 分析** - 无重叠无遗漏的分组
3. **多角度审视** - 技术、业务、用户视角
4. **交互确认** - 在重要决策点与用户确认
5. **证据支撑** - 基于数据和逻辑的结论

#### Sequential 模式框架

1. **初始分析** - 基本理解和问题分解
2. **假设生成** - 制定解决方案假设
3. **验证修正** - 验证假设并根据需要修正
4. **分支探索** - 探索多个解决路径
5. **整合结论** - 得出最优解决方案

### 实战示例

#### 系统设计决策

```bash
cat system-design.md
/think --mode ultra --perspective technical
"使用深度思考设计认证系统，考虑安全性、可扩展性和可维护性"

# 输出示例：
# 📋 问题分解
# 1. 认证机制选择 (JWT vs Session vs OAuth2)
# 2. 安全性要求分析
# 3. 可扩展性考虑
# 4. 维护性评估
#
# 🔍 MECE 分析
# A. 技术实现 (算法、协议、存储)
# B. 用户体验 (登录流程、安全感知)
# C. 运维管理 (监控、日志、故障处理)
#
# 💡 多角度审视
# 技术角度: JWT 的无状态优势 vs Session 的撤销便利性
# 业务角度: 用户留存 vs 安全风险控制
# 用户角度: 便利性 vs 安全性认知
```

#### 问题调试分析

```bash
cat performance-logs.txt
/think --mode sequential --depth comprehensive
"分析内存泄漏原因，包含代码审查和性能分析结果"

# 输出示例：
# 🔍 初始分析
# 观察到内存使用量持续增长，GC 频率上升
#
# 💭 假设生成
# H1: 事件监听器未正确移除
# H2: 缓存对象无限增长
# H3: 第三方库内存泄漏
#
# ✅ 验证修正
# 验证 H1: 检查事件绑定/解绑代码 → 发现问题
# 验证 H2: 分析缓存策略 → 需要进一步验证
# 验证 H3: 排查第三方库 → 暂无明显问题
#
# 🌿 分支探索
# 路径 A: 重构事件管理机制
# 路径 B: 实现智能缓存清理
# 路径 C: 添加内存监控告警
```

### 与 Claude 协作

```bash
# 业务功能决策
"使用深度思考分析新功能优先级，考虑用户价值、开发成本和技术风险"

# 重构策略制定
cat src/legacy_code.js
/think --mode hybrid
"为这个遗留代码制定重构策略"

# 技术债务处理
/think --mode ultra --perspective business
"分析技术债务处理的优先级和投入产出比"

# 性能优化策略
/think --mode sequential
"制定前端性能优化的渐进式策略"
```

### 输出格式示例

#### 完整思考过程

```
🧠 深度思考分析: GraphQL vs REST API 选择

📋 问题分解
├── 技术特性对比
├── 项目需求适配
├── 团队能力评估
└── 长期维护考虑

🔍 MECE 分析
┌── 开发效率 │ 性能表现 │ 学习成本
├── GraphQL  │ 查询灵活 │ 较高学习曲线
└── REST     │ 简单直接 │ 团队熟悉

💡 多角度审视
📍 技术角度: GraphQL 提供强类型和灵活查询
📍 业务角度: REST 更适合当前团队和时间限制
📍 用户角度: 两者对用户体验影响有限

⚖️ 权衡决策
基于当前项目约束和团队情况，推荐使用 REST API
原因: 开发速度优先 + 团队技能匹配 + 项目时间限制

📋 具体建议
1. 当前阶段使用 REST API
2. 建立良好的 API 设计规范
3. 团队技能提升后考虑迁移到 GraphQL
```

### 注意事项

- **时间投入**: 深度思考需要较多时间，适合重要决策
- **问题复杂度**: 简单问题无需使用深度思考模式
- **团队协作**: 重要决策建议与团队成员分享思考过程
- **迭代完善**: 思考结果可以根据新信息持续完善